{"remainingRequest":"E:\\ishuberAdmin\\admin\\node_modules\\babel-loader\\lib\\index.js!E:\\ishuberAdmin\\admin\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\ishuberAdmin\\admin\\src\\locales\\index.js","dependencies":[{"path":"E:\\ishuberAdmin\\admin\\src\\locales\\index.js","mtime":1608170282573},{"path":"E:\\ishuberAdmin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ishuberAdmin\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\ishuberAdmin\\admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovaXNodWJlckFkbWluL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlSTE4biBmcm9tICd2dWUtaTE4bic7CmltcG9ydCBzdG9yYWdlIGZyb20gJ3N0b3JlJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOyAvLyBkZWZhdWx0IGxhbmcKCmltcG9ydCBlblVTIGZyb20gJy4vbGFuZy9lbi1VUyc7ClZ1ZS51c2UoVnVlSTE4bik7CmV4cG9ydCB2YXIgZGVmYXVsdExhbmcgPSAnZW4tVVMnOwp2YXIgbWVzc2FnZXMgPSB7CiAgJ2VuLVVTJzogX29iamVjdFNwcmVhZCh7fSwgZW5VUykKfTsKdmFyIGkxOG4gPSBuZXcgVnVlSTE4bih7CiAgc2lsZW50VHJhbnNsYXRpb25XYXJuOiB0cnVlLAogIGxvY2FsZTogZGVmYXVsdExhbmcsCiAgZmFsbGJhY2tMb2NhbGU6IGRlZmF1bHRMYW5nLAogIG1lc3NhZ2VzOiBtZXNzYWdlcwp9KTsKdmFyIGxvYWRlZExhbmd1YWdlcyA9IFtkZWZhdWx0TGFuZ107CgpmdW5jdGlvbiBzZXRJMThuTGFuZ3VhZ2UobGFuZykgewogIGkxOG4ubG9jYWxlID0gbGFuZzsgLy8gcmVxdWVzdC5oZWFkZXJzWydBY2NlcHQtTGFuZ3VhZ2UnXSA9IGxhbmcKCiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLnNldEF0dHJpYnV0ZSgnbGFuZycsIGxhbmcpOwogIHJldHVybiBsYW5nOwp9CgpleHBvcnQgZnVuY3Rpb24gbG9hZExhbmd1YWdlQXN5bmMoKSB7CiAgdmFyIGxhbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGRlZmF1bHRMYW5nOwogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgLy8g57yT5a2Y6K+t6KiA6K6+572uCiAgICBzdG9yYWdlLnNldCgnbGFuZycsIGxhbmcpOwoKICAgIGlmIChpMThuLmxvY2FsZSAhPT0gbGFuZykgewogICAgICBpZiAoIWxvYWRlZExhbmd1YWdlcy5pbmNsdWRlcyhsYW5nKSkgewogICAgICAgIHJldHVybiBpbXBvcnQoCiAgICAgICAgLyogd2VicGFja0NodW5rTmFtZTogImxhbmctW3JlcXVlc3RdIiAqLwogICAgICAgICIuL2xhbmcvIi5jb25jYXQobGFuZykpLnRoZW4oZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgdmFyIGxvY2FsZSA9IG1zZy5kZWZhdWx0OwogICAgICAgICAgaTE4bi5zZXRMb2NhbGVNZXNzYWdlKGxhbmcsIGxvY2FsZSk7CiAgICAgICAgICBsb2FkZWRMYW5ndWFnZXMucHVzaChsYW5nKTsKICAgICAgICAgIG1vbWVudC51cGRhdGVMb2NhbGUobG9jYWxlLm1vbWVudE5hbWUsIGxvY2FsZS5tb21lbnRMb2NhbGUpOwogICAgICAgICAgcmV0dXJuIHNldEkxOG5MYW5ndWFnZShsYW5nKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc29sdmUoc2V0STE4bkxhbmd1YWdlKGxhbmcpKTsKICAgIH0KCiAgICByZXR1cm4gcmVzb2x2ZShsYW5nKTsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gaTE4blJlbmRlcihrZXkpIHsKICByZXR1cm4gaTE4bi50KCIiLmNvbmNhdChrZXkpKTsKfQpleHBvcnQgZGVmYXVsdCBpMThuOw=="},{"version":3,"sources":["E:/ishuberAdmin/admin/src/locales/index.js"],"names":["Vue","VueI18n","storage","moment","enUS","use","defaultLang","messages","i18n","silentTranslationWarn","locale","fallbackLocale","loadedLanguages","setI18nLanguage","lang","document","querySelector","setAttribute","loadLanguageAsync","Promise","resolve","set","includes","then","msg","default","setLocaleMessage","push","updateLocale","momentName","momentLocale","i18nRender","key","t"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,OAAP,MAAoB,UAApB;AACA,OAAOC,OAAP,MAAoB,OAApB;AACA,OAAOC,MAAP,MAAmB,QAAnB,C,CAEA;;AACA,OAAOC,IAAP,MAAiB,cAAjB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,OAAR;AAEA,OAAO,IAAMK,WAAW,GAAG,OAApB;AAEP,IAAMC,QAAQ,GAAG;AACf,6BACKH,IADL;AADe,CAAjB;AAMA,IAAMI,IAAI,GAAG,IAAIP,OAAJ,CAAY;AACvBQ,EAAAA,qBAAqB,EAAE,IADA;AAEvBC,EAAAA,MAAM,EAAEJ,WAFe;AAGvBK,EAAAA,cAAc,EAAEL,WAHO;AAIvBC,EAAAA,QAAQ,EAARA;AAJuB,CAAZ,CAAb;AAOA,IAAMK,eAAe,GAAG,CAACN,WAAD,CAAxB;;AAEA,SAASO,eAAT,CAA0BC,IAA1B,EAAgC;AAC9BN,EAAAA,IAAI,CAACE,MAAL,GAAcI,IAAd,CAD8B,CAE9B;;AACAC,EAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,YAA/B,CAA4C,MAA5C,EAAoDH,IAApD;AACA,SAAOA,IAAP;AACD;;AAED,OAAO,SAASI,iBAAT,GAAgD;AAAA,MAApBJ,IAAoB,uEAAbR,WAAa;AACrD,SAAO,IAAIa,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B;AACAlB,IAAAA,OAAO,CAACmB,GAAR,CAAY,MAAZ,EAAoBP,IAApB;;AACA,QAAIN,IAAI,CAACE,MAAL,KAAgBI,IAApB,EAA0B;AACxB,UAAI,CAACF,eAAe,CAACU,QAAhB,CAAyBR,IAAzB,CAAL,EAAqC;AACnC,eAAO;AAAO;AAAP,yBAA0DA,IAA1D,GAAkES,IAAlE,CAAuE,UAAAC,GAAG,EAAI;AACnF,cAAMd,MAAM,GAAGc,GAAG,CAACC,OAAnB;AACAjB,UAAAA,IAAI,CAACkB,gBAAL,CAAsBZ,IAAtB,EAA4BJ,MAA5B;AACAE,UAAAA,eAAe,CAACe,IAAhB,CAAqBb,IAArB;AACAX,UAAAA,MAAM,CAACyB,YAAP,CAAoBlB,MAAM,CAACmB,UAA3B,EAAuCnB,MAAM,CAACoB,YAA9C;AACA,iBAAOjB,eAAe,CAACC,IAAD,CAAtB;AACD,SANM,CAAP;AAOD;;AACD,aAAOM,OAAO,CAACP,eAAe,CAACC,IAAD,CAAhB,CAAd;AACD;;AACD,WAAOM,OAAO,CAACN,IAAD,CAAd;AACD,GAhBM,CAAP;AAiBD;AAED,OAAO,SAASiB,UAAT,CAAqBC,GAArB,EAA0B;AAC/B,SAAOxB,IAAI,CAACyB,CAAL,WAAUD,GAAV,EAAP;AACD;AAED,eAAexB,IAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueI18n from 'vue-i18n'\r\nimport storage from 'store'\r\nimport moment from 'moment'\r\n\r\n// default lang\r\nimport enUS from './lang/en-US'\r\n\r\nVue.use(VueI18n)\r\n\r\nexport const defaultLang = 'en-US'\r\n\r\nconst messages = {\r\n  'en-US': {\r\n    ...enUS\r\n  }\r\n}\r\n\r\nconst i18n = new VueI18n({\r\n  silentTranslationWarn: true,\r\n  locale: defaultLang,\r\n  fallbackLocale: defaultLang,\r\n  messages\r\n})\r\n\r\nconst loadedLanguages = [defaultLang]\r\n\r\nfunction setI18nLanguage (lang) {\r\n  i18n.locale = lang\r\n  // request.headers['Accept-Language'] = lang\r\n  document.querySelector('html').setAttribute('lang', lang)\r\n  return lang\r\n}\r\n\r\nexport function loadLanguageAsync (lang = defaultLang) {\r\n  return new Promise(resolve => {\r\n    // 缓存语言设置\r\n    storage.set('lang', lang)\r\n    if (i18n.locale !== lang) {\r\n      if (!loadedLanguages.includes(lang)) {\r\n        return import(/* webpackChunkName: \"lang-[request]\" */ `./lang/${lang}`).then(msg => {\r\n          const locale = msg.default\r\n          i18n.setLocaleMessage(lang, locale)\r\n          loadedLanguages.push(lang)\r\n          moment.updateLocale(locale.momentName, locale.momentLocale)\r\n          return setI18nLanguage(lang)\r\n        })\r\n      }\r\n      return resolve(setI18nLanguage(lang))\r\n    }\r\n    return resolve(lang)\r\n  })\r\n}\r\n\r\nexport function i18nRender (key) {\r\n  return i18n.t(`${key}`)\r\n}\r\n\r\nexport default i18n\r\n"]}]}